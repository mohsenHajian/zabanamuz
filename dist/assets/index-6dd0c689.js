import{_ as k,g as S,r as a,b,d as B,a as l,c as v,e,t as C,F as I,f as M,h as j,i as L,n as N,j as V,o as z,k as g,l as $,p as D,m as F}from"./index-92d0f318.js";const q=["src"],A={class:"flex justify-between items-center w-full"},E={class:"flex items-center movie-level whitespace-nowrap"},O={class:"text-xs"},R={class:"flex items-center movie-level whitespace-nowrap"},T={class:"text-xs"},W={__name:"MovieCard",props:{movie:{type:Object,default:{}}},setup(o){const{proxy:d}=S(),u=o,c=a(null),t=a(0),m=x=>{switch(x){case"beginner":return t.value=1,"مبتدی";case"intermediate":return t.value=2,"متوسط";case"expert":return t.value=3,"پیشرفته";default:return"-"}},n=async()=>{await d.$store.commit("setSelectedMovie",{name:u.movie.translated_name}),d.$router.push(`/movies/scene/${u.movie.id}`)},f=b(()=>m(u.movie.level)),p=b(()=>c.value?c.value.offsetWidth*1.42+"px":"fit-content");return(x,h)=>{const r=B("Icon");return l(),v("div",{class:"movie-card card",ref_key:"movieCard",ref:c,style:N({minHeight:p.value}),onClick:n},[e("img",{src:o.movie.image_thumbnail,alt:""},null,8,q),e("div",A,[e("div",E,[e("span",O,"سطح "+C(f.value),1),(l(!0),v(I,null,M(t.value,i=>(l(),j(r,{icon:"material-symbols:kid-star-sharp",width:"14px",height:"14px",style:{color:"#e50000"}}))),256))]),e("div",R,[L(r,{icon:"mdi:youtube-subscription",width:"14px",height:"14px",style:{fill:"var(--surface-600)"}}),e("span",T,C(o.movie.sequences_count||0)+" سکانس ",1)])])],4)}}},G=k(W,[["__scopeId","data-v-72fac8e1"]]);const H=o=>(D("data-v-fe6ef6a3"),o=o(),F(),o),J={class:"flex flex-col w-full"},K={class:"flex flex-col md:flex-row justify-between md:items-center w-full mb-4"},P=H(()=>e("h4",{class:"text-xl font-bold mb-4 md:mb-0"},"فیلم ها",-1)),Q={class:"movie-filters"},U=H(()=>e("h4",{class:"text-xl font-bold"},null,-1)),X={class:"flex flex-wrap align-items-center w-full gap-x-5 gap-y-6"},Y={key:0},Z={key:1,class:"flex justify-center w-full mt-5"},ee={__name:"index",setup(o){const{proxy:d}=S(),u=V("repositories"),c=a(!1),t=a([]),m=a(0),n=a("intermediate"),f=a({level:"intermediate"}),p=a(1),x=()=>{t.value.length<m.value&&(p.value+=10,r(!0))},h=i=>{n.value!==i&&(n.value=i,f.value.level=i,r())},r=async i=>{c.value=!0,d.$store.commit("setIsLoadingSpinner",!0);try{const s=await u.getMoviesApi.getMovies(f.value,null,p.value);m.value=s.meta.total,i?t.value=t.value.concat(s.data):t.value=s.data}catch(s){console.error(s)}d.$store.commit("setIsLoadingSpinner",!1),c.value=!1};return z(async()=>{r()}),(i,s)=>{var y,w;return l(),v("div",J,[e("div",K,[P,e("div",Q,[e("div",{class:g(["movie-filters-item",n.value==="beginner"&&"movie-filters-item-active"]),onClick:s[0]||(s[0]=_=>h("beginner"))},"مبتدی",2),e("div",{class:g(["movie-filters-item",n.value==="intermediate"&&"movie-filters-item-active"]),onClick:s[1]||(s[1]=_=>h("intermediate"))},"متوسط",2),e("div",{class:g(["movie-filters-item",n.value==="expert"&&"movie-filters-item-active"]),onClick:s[2]||(s[2]=_=>h("expert"))},"پیشرفته",2)]),U]),e("div",X,[(l(!0),v(I,null,M(t.value,_=>(l(),j(G,{key:_.id,movie:_},null,8,["movie"]))),128)),(y=t.value)!=null&&y.length?$("",!0):(l(),v("p",Y,"فیلمی یافت نشد")),((w=t.value)==null?void 0:w.length)<m.value?(l(),v("div",Z,[e("button",{onClick:x,class:"btn load-more"},"نمایش بیشتر")])):$("",!0)])])}}},se=k(ee,[["__scopeId","data-v-fe6ef6a3"]]);export{se as default};
